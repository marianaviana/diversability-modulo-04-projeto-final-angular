<div class="card h-100 bg-section border-secondary product-card">
  <div class="card-img-top-container" [routerLink]="['/product', product.id]" style="cursor: pointer;">
    <img [src]="product.image" [alt]="product.title" class="card-img-top">
  </div>

  <div class="card-body d-flex flex-column">
    <h5 class="card-title text-white">{{ product.title }}</h5>
    <p class="card-text text-secondary flex-grow-1">
      {{ product.description }}
    </p>

    <div class="mt-auto">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <span class="h5 text-accent mb-0">
          {{ product.price | currency:'BRL' }}
        </span>
        <span class="badge bg-dark text-white">
          {{ product.category }}
        </span>
      </div>

      <div class="d-flex gap-2">
        <button *ngIf="!(isInCart$ | async); else inCartTemplate" class="btn btn-accent flex-grow-1"
          (click)="addToCart()">
          Adicionar ao Carrinho
        </button>

        <ng-template #inCartTemplate>
          <button class="btn btn-outline-danger flex-grow-1" (click)="removeFromCart()">
            Remover
          </button>
          <button class="btn btn-outline-accent" routerLink="/cart">
            Ver Carrinho
          </button>
        </ng-template>
      </div>
    </div>
  </div>
</div>
